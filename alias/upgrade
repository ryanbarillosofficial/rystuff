# Aliases - for Upgrade
# By Ryan Barillos
#
# Last Updated: 17 Nov 2024
#
# NOTES:
# If you use BASH, import this to "/etc/bash.bashrc"
# If you use ZSH, import this to "/home/*/.zshrc"
#
# REFERENCES:
# 	https://stackoverflow.com/a/14586145
# 	https://linuxize.com/post/bash-case-statement/
# 	https://stackoverflow.com/a/14422397
# 	https://stackoverflow.com/questions/55357078/bash-function-with-three-to-infinitely-arguments
# 	https://stackoverflow.com/a/55357194
#   https://stackoverflow.com/questions/22009364/is-there-a-try-catch-command-in-bash
#   https://linuxhandbook.com/if-else-bash/
#   https://stackoverflow.com/questions/18568706/check-number-of-arguments-passed-to-a-bash-script

function upgrade() {
    # Update with Pacman or AUR Helper
    if [ "pacman -Q yay" ]; then 
        echo "AUR Helper DETECTED! It will be used to update system shortly..."
        sleep 3
        yay -Syyuu archlinux-keyring --noremovemake --keepsrc --noredownload --answerclean No --answerdiff N;    
    else
        sudo pacman -Syyuu archlinux-keyring;
    fi

    # Update Flatpak Programs
    flatpak update -y;
    
    # Update bootloader
    if [ "pacman -Q grub | grep -q 'not found'" ]; then
        sudo bootctl update;
    else
        sudo sudo grub-install;
        sudo grub-mkconfig -o /boot/grub/grub.cfg;    
    fi

    echo "Peparing for reboot! Press Ctrl + C to Cancel";
    sleep 5;
    reboot;
}